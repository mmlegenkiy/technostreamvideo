%\Xi 
\documentclass[t]{beamer}  % [t], [c], или [b] --- вертикальное выравнивание на слайдах (верх, центр, низ)
%\documentclass[handout]{beamer} % Раздаточный материал (на слайдах всё сразу)
%\documentclass[aspectratio=169]{beamer} % Соотношение сторон

%\usetheme{Berkeley} % Тема оформления
%\usetheme{Bergen}
%\usetheme{Szeged}

%\usecolortheme{beaver} % Цветовая схема
%\useinnertheme{circles}
%\useinnertheme{rectangles}

%\usetheme{HSE}

%%% Работа с русским языком
\usepackage{cmap}					% поиск в PDF
\usepackage{mathtext} 				% русские буквы в формулах
\usepackage[T2A]{fontenc}			% кодировка
\usepackage[utf8]{inputenc}			% кодировка исходного текста
\usepackage[english,ukrainian]{babel}	% локализация и переносы

\usepackage{hyperref}

%%% Работа с картинками
\usepackage{graphicx}  % Для вставки рисунков
\graphicspath{{images/}{images2/}}  % папки с картинками
\setlength\fboxsep{3pt} % Отступ рамки \fbox{} от рисунка
\setlength\fboxrule{1pt} % Толщина линий рамки \fbox{}
\usepackage{wrapfig} % Обтекание рисунков текстом

%%% Работа с таблицами
\usepackage{array,tabularx,tabulary,booktabs} % Дополнительная работа с таблицами
\usepackage{longtable}  % Длинные таблицы
\usepackage{multirow} % Слияние строк в таблице

%%% Программирование
\usepackage{etoolbox} % логические операторы

%%% Другие пакеты
\usepackage{lastpage} % Узнать, сколько всего страниц в документе.
\usepackage{soul} % Модификаторы начертания
\usepackage{csquotes} % Еще инструменты для ссылок
%\usepackage[style=authoryear,maxcitenames=2,backend=biber,sorting=nty]{biblatex}
\usepackage{multicol} % Несколько колонок

%%% Картинки
\usepackage{tikz} % Работа с графикой
\usepackage{pgfplots}
\usepackage{pgfplotstable}

\title{LINUX Технострім}
%\subtitle{За матеріалами "Системне адміністрування Linux" Сергія Клочкова}
\author{Легенький М.М.}
\date{\today}
\institute[факультет радіофізики, біомедичної електроніки та комп'ютерних систем]{Харківський національний університет імені В. Н. Каразіна}

\begin{document}

\frame[plain]{\titlepage}	% Титульный слайд

\section{Робота з командним рядком}
\subsection{Вступ}
 
\begin{frame}
	\frametitle{\insertsection} 
	\framesubtitle{\insertsubsection}
Дистрибутиви Linux.

Способи поширення ПЗ: у вигляді вихідних кодів (Gentoo) або у бінарному вигляді (Ubuntu). Політика оновлення ПЗ: стабільність (RHEL) або актуальність (Archlinux).		 

Єдине дерево директорій.
\begin{itemize}
\item /etc - конфігурація.
\item /home - дані користувачів.
\item /usr - додатки.
\item /var - дані та логи.
\item /tmp - тимчасові файли.
\end{itemize}
\end{frame}

\subsection{Основи роботи в системі Linux}
 
\begin{frame}
	\frametitle{\insertsection} 
	\framesubtitle{\insertsubsection}
Порядок завантаження персонального комп'ютера системи IBM PC:
\begin{itemize}
\item Ініціалізація та перевірка працезданості обладнання (POST).
\item Передача керування завантажувачу з якогось локального пристрою  або мережею.
\item Для завантаження з локального диску необхідно, щоб на цьому диску була таблиця розділів, що підтримується BIOS, та був завантажувач.
\item Основні види таблиць розділів MBR (sudo dd if=/dev/sda bs=512 count=1 $|$ file -) та GPT (використовується службовий розділ розміром 2 Мб, де знаходиться завантажувач). 
\item Завантажувач з MBR (stage1) запускає інший більш фунціональний завантажувач (stage2). 
\item Далі завантажувачу треба запустити ядро операційної системи (при цьому може демонструватись меню).
\item initrd використовується щоб безпосередньо розпочати роботу з обладнаннням.
\item Далі запускається init щоб запустити всі процеси та примонтувати всі файлові систем окрім кореневої.
\end{itemize}

\end{frame}

 \begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Ядро ОС потрібне для абстракції обладнання, для керування виділенням ресурсів користувацьким процесам  та для забезпечення доступу процесів до деякої низки ресурсів (за допомогою системних викликів).

Команда sysctl дозволяє продивлятись та змінювати параметри ядра Linux.

Утиліта modprobe використовується для додавання завантажуваних модулів до ядра Linux. Можна продивлятися та видаляти модулі за допомогою команди modprobe.
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Операційна система розв'язує різні задачі за допомогою керування процесами. Процес складається із образу коду, що виконується, адресного простору, набору дескрипторів (нумеровані ресурси, що виділені процесу ядром, вони відповідають за операції вводу-виводу), атрибути доступу, контекст процесора (регістри, вказівники на стеки тощо).

Псевдофайлова система procfs примонтована в директорію /proc. Інформацію про процес можна подивитись у файлі /proc/PID/status.

Виділений процесу адресний простір не завжди відповідає реально зайнятій пам'яті. Реально виділяється пам'ять тільки, коли процес намагається записати туди дані (це робиться за допомогою таблиці трансляції сторінок). Якими блоками виділяється пам'ять? 4 Кб - сторінка пам'яті в архітектурі х86, адреса сторінки 8 байт. 
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Робота із таблицею трансляції сторінок є критичною і вона реалізована апаратно. За неї відповідає MMU - модуль керування пам'яттю в центральному процесорі. Також для цього виділено дуже швидкий та дуже маленький кеш (на багатьох процесорах приблизно 1024 записи). Однак 1024 * 4 Кб = 4 Мб. Якщо ж відбувається звертання до сторінки, що не знаходиться в цьому кеші, доводиться звертатися до оперативної пам'яті і це довго. 

Збільшення розміру сторінки завжди призводе до збільшення кількості оперативної пам'яті, що не використовується.

\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Тому алокацію пам'яті в архитектурі х64 можна зробити не тільки на сторінку розміром 4 Кб, але і на велику сторінку (Huge page) розміром 2 Мб. Таким чином, в швидкому кеші знаходяться 1024* 2Мб = 2 Гб даних.
 За допомогою sysctl можна виділити кількість великих сторінок, які будуть в системі sysctl vm.nr\_hugepages. До цієї пам'яті можуть звернутися лише ті додатки, для яких її призначено. Ці звертання завжди будуть швидкими (пам'ять не може бути витіснена в режим підкачки). Недолік: мінімальна гибкість. Виділення сторінок повинно відбуватися при старті системи, вони повинні виділятися підряд.
 
 Тому для роботи з великими сторінками придумали прозорі великі (анонімні) великі сторінки. cat /proc/meminfo $|$ grep AnonHugePages. Ядро саме вирішує які саме сторінки пам'яті виділити додатку, але ці сторінки можуть бути витіснені до розділу підкачки.
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Інший вид ресурсу, що виділяється процесу - дескриптор вводу/виводу. Стандартні дескриптори - 0 (stdin), 1 (stdout) та 2 (stderr). Список виділених процесу дескрипторів знаходиться в директорії /proc/PID/fd. Інформацію про ці дескриптори можна подивитись у файлі /proc/PID/fdinfo/PID1 (опції, з якими їх було відкрито, позиції; де знаходиться в файлі процес тощо).

lsof - утиліта, що виводе інформацію про те які файли використовуються тими чи іншими процесами. lsof в стовпці FD виводе різні службові значення: txt (виконуваний файл додатку), mem (різні файли, розміщені в адресному просторі даного процесу), cwd (поточна робоча директорія), rtd (коренева директорія процесу).
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Головний ресурс процесу - ресурси процесора. Процес використовує час  процесору в коді додатку (us (user space) в top) та в коді ядра (sy в top). Для моніторингу використовується утиліта top (ni -процеси зі зменшеним пріорітетом, wa - очикування вводу/виводу, hi - апаратні переривання , si - програмні переривання, st - час, витрачений іншими віртуальними машинами ).

iostat - утиліта, призначена для моніторингу використання дискових розділів. Команда dd if=/dev/sda of=/dev/null bs=1M

Системні виклики - механізм взаємодії ядра та додатків. При системному виклику додаток у своєму контексті запускає визначений код ядра. Системні виклики потрібні для операцій вводу та виводу або для того, щоб надсилати команди системі, за допомогою системних викликів запрашується виділення ресурсів.
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
strace - утиліта, яка дозволяє відслідкувати виконання системних викликів та сигналів до ядра системи.

Як можна взаємодіяти з додатком? Сигнали - механізм зв'язку з додатком. Інший спосіб як система може нагадати процесу про себе - це ліміти. Ліміти виписуються на користувача і розділюються між процесами даного користувача. Команда ulimit дозволяє відображати та встановлювати обмеження ресурсів для користувачів. Для керування лімітами існує файл /etc/security/limits.conf . Існують м'які (soft) та жорсткі (hard) ліміти. М'який ліміт - ліміт за замовчуванням при вході в систему, жорсткий ліміт - межа, до якої користувач може підняти свої ліміти. 
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Змінні оболонки - низка ключів та значень, що відноситься до процесу та змінюється динамічно. 

Самий перший процес в оточенні користувача - init запускає ядро при завантаженні системи. В UNIX-системі є лише один спосіб породження процесу - клонування самого себе, для цього використовується функція fork()  (раніше використовувався системний виклик fork()).

gdb - основний відлагоджувач, що використовується у багатьох UNIX-системах.
\end{frame}

\subsection{Linux та мережа}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Мультикаст дозволяє звернутися до серверу та підписатися на отримання інформації так, щоб здійснити мінімальне навантаження на сервер. Якщо у сервера є тільки один маршрут до провайдера, то всі пакети туди будуть йти лише в одному екземплярі. А далі вони будуть  надсилатися лише на ті маршрутизатори, за якими є хоча б один клієнт, що підписався на мультикаст. Щоб мультикаст працював виділено спеціальну підмережу 224.0.0.0/4. Якщо клієнт підписується на отримання мультикастного трафіка, він повідомяє про це своєму локаьного роутеру по протоколу IGMP. Цей роутер зв'язується з іншими роутерами по протоколу PIM і повідомляє, що має клієнта, який підписався на такий-то мультикаст.

При мультикасті не гарантується порядок пакетів і немає можливості отримати втрачений пакет.
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Головний недолік IPv4 - довжина адреси ( $2^{32}$ адрес). В IPv6 довжину адреси збільшили в 4 рази ( $2^{128}$ адрес). З'явився новий механізм автоконфігурації адрес, хост сам себе анонсує. Адреси видаються пулами по $2^{64}$ адрес. В IPv6 маршрутизатори можуть сами себе анонсувати. Можна легко підібрати собі унікальну адресу в межах даної мережі. Кожен мережевий інтерфейс має унікальну МАС-адресу довжиною 48 біт. В IPv6 дозволено мати в мережі декілька маршрутизаторів (до трьох). В IPv6 легко перехоплювати трафік, тому важливим є шифрування. Роутери більше не фрагментують пакети.

Для того щоб дізнатися для якого додатку призначено пакет використовується номер порта. В протоколі UDP до IP-адреси додається номер порта.
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
TCP - протокол гарантованої доставки. Для того, щоб ініціювати з'єднання клієнт надсилає пакет з флагом SYN і повідомляє пакети, якого максимального розміру він може обробляти. Сервер також надсилає пакет з флагом SYN та ACK (підтвердження) і повідомляє пакети, якого максимального розміру він може обробляти. Після цього клієнт надсилає серверу ACK, щоб показати, що отримав його SYN та ACK.

Після цього йде обмін пакетами. Клієнт  надсилає наприклад байти до 1024. Сервер відповідає 1025, тобто 1024 отримав нормально, чекаю на 1025-й. Після того, як з'єднання стає непотрібним, його закривають. Для цього будь-яка сторона клієнт або сервер надсилає пакет FIN. У відповідь йде FIN та ACK, тобто друга сторона підтверджує закриття з'єднання і також каже, що вона його закриває. Після цього перша сторона каже ACK і з'єднання вважається повністю закритим. 
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Для того щоб мережеве обладнання працювало достатньо швидко треба надсилати пакети, не очікуючи підтверджень. Но яку кількість даних слід надсилати? TCP congestion control. Вводиться поняття TCP-вікна: кількість байт, яку можна надсилати, не очікуючи підтвердження. Як правильно підібрати розмір вікна? В кожній мережевій топології він буде різним. Для цього використовується адаптивний розмір вікна. На початку з'єднання він малий, але зростає доки не трапляється таймаут при очікуванні ACK. При таймауті розмір вікна зменшується до 1 mss, ліміт збільшення вікна виставляється в половину розміра вікна до таймаута.
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Як бути з сірими адресами? Для того щоб забезпечити вам доступ до інтернет провайдер використовує технологію NAT (Network Addres Translation). У провайдера є пул адрес (в простійшому випадку один білий адрес), який використовується як вихідна адреса для ваших з'єднань. В обладнанні провайдера є таблиця, що ваше з'єднання з такої-то сірої адреси і такого-то порта, відповідає з'єднанню, яке провайдер встанове зі своєї білої адреси і такого-то порта. Коли сервер вирішить надіслати вам відповідь він буде використовувати свою адресу та порт як вихідний і той порт, який видано, як порт призначення. Пакет, коли потрапе на обладнання провайдера буде оброблений у відповідності до таблиці NAT, адресу призначення буде змінено на вашу адресу, а порт - на ваш порт, і цей пакет буде передано вам. Отже, всі клієнти зможуть працювати доки сумарна кількість з'єднань не перевище кількість білих адрес провайдера помножену на максимально можливу кількість портів (65536).
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
DNS (Domain Name System) - протокол рівня додатків. Зазвичай користувачі не використовують ір-адреси для підключення до якогось сервісу. Для того щоб разрішати доменні імена в ір-адреси використовується DNS-сервер. Це розподілена ієрархічна база даних, що дозволяє делегувати виділення відповідностей між визначеними іменами визначеним адресам власникам доменів. 

У DNS домен більш верхнього рівня йде з правого боку, а далі йдуть домени більш високого рівня. Точка - кореневий домен, він обслуговується кореневими секторами, адреси яких добре відомі і ніколи не змінюються.  Вони містять дуже важливі відомості, якими серверами обслуговуються домени com, net  і так далі. Після цього ми звертаємося до одного із них і дізнаємося у що резолвиться шуканий сайт. IN NS - позначає делегування.
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Утиліта dig використовується для роботи з доменними записами, +trace - трасування маршруту запиту.  NS - name server, A - IPv4 адреса, AAAA - IPv6 адреса, SOA (start of authority record) - запис, де зберігаються політики для домену, зокрема ttl (time to live).

В систему DNS інтегровано іншу систему - систему надсилання електронної пошти. Запис MX - містить в собі поштовий сервер (сервери) для даного домену. Запис TXT - довільні дані.

Інколи за ір-адресою треба визачити, що на ній розташовано. Для цього існує система зворотніх зон в DNS, яка працює дуже схоже на систему прямих зон. Різниця полягає в тому, що для цього використовується спеціальний домен 2-го рівня in-addr.arpa . Якщо треба отримати домен для адреси 1.2.3.4, то треба намагатися розрезолвити 4.3.2.1.in-addr.arpa.
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
 Для того щоб дізнатись якій назві домену відповідає запис, треба перевірити запис PTR. Зворотні зони потрібні для того, щоб власники ір-адрес могли вказувати які хости знаходяться на цих адресах.
 
 NTP (Network Time Protocol) - протокол, призначений для синхронізації часу. Точна синхронізація часу є складною, бо ніколи не можна передбачити часову затримку. Існують NTP-сервери, під'єднані до атомних годинників, вони надають найточніший час. Також існують NTP-сервери, що синхронизуються з цими серверами, і так далі. Рівень точності NTP-серверу визначається його стратумом - деяка логічна відстань цього серверу від атомного годинника (сервер, що підключений до атомного годинника має стратум 0).
Кожен NTP-сервер повідомляє свій стратум і знаючи з NTP-серверами якого стратуму ви синхронизуєтесь, можна оцінити наскільки точний час у вашій системі. 
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Протокол HTTP використовується для передачі веб-сторінок та їх вмісту. URL (Uniform resource location) - однозначно визначає положення того чи іншого ресурса в мережі. Приклад:

http://usr:pswd@www.example.com:80/search?q=term\&lang=en\#res

\begin{itemize}
    \item http - протокол
    \item usr:pswd - логін та пароль для базової авторизації
    \item www.example.com - доменне ім'я
    \item 80 - порт
    \item /search - шлях
    \item q=term\&lang=en - GET-параметри
    \item \#res - якір
  \end{itemize}  
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Коди відповіді HTTP:
\begin{itemize}
  \item 1** - службові повідомлення;
  \item 2** - запит оброблено успішно;
  \item 3** - редіректи (301 - постійний редірект, 302 - тимчасовий редірект, 304 - немає змін);
  \item 4** - помилка клієнта (400 - некоректний запит, 401 - потрібна авторизація, 403 - немає доступу, 404 - сторінку не знайдено);
  \item 5** - помилки сервера (400 - внутрішня помилка, 502 - апстрим недоступний, 503 - тимчасова помилка сервера, 504 - збіг час очікування);
\end{itemize}
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Коли клієнт бажає під'єднатися до сервера він генерує свою власну пару ключів, отримує публічний ключ сервера і виконує SSL handshake (сервер з клієнтом обмінюються ключем для симетричного шифрування і далі взаємодіють в цій сесії, створюється SSL - тонель, HTTP запити та відповіді шифруються на одному краї та розшифровуються на іншому). 

Що буде якщо зловмисник сгенерує в себе пару ключів - серверу скаже, що це ключі клієнта, а клієнту - що це ключі сервера?  Публічний ключ сервера та домен є підписаними на якийсь час - це все називається сертифікат. Такі сертифікати застосовуються для забезпечення безпеки HTTPS-з'єднань.
\end{frame}

\subsection{Керування  користувацьким оточенням}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Історично в Linux не було засобів керування додатками, їх треба було встановлювати самостійно. Вся відповідальність клалась на користувача. Для того, щоб керувати тим, що встановлено, із чого воно складається і які залежності потрібні встановленим додаткам і для чого вони самі можуть бути залежністю були створені менеджери пакетів.

В пакеті є низка файлів, їх метадані, сценарії, скрипти, що виконуються при вставновленні або видаленні пакету, опис пакету, трігери (деякі дії, які повинен виконувати цей пакет при операціях з іншим пакетом).
Подивитись інформацію про пакет apt-cache show glibc-source. Також пакетний менеджер містить інформацію про те, що повинно бути в цьому пакеті. При встановленні або видаленні пакету можуть виконуватись якісь дії. 
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
За те, які додатки буде запущено при старті системи відповідає init. init  запускається ядром при старті системи, задача init - запустити все користувацьке оточення, примонтувати файлові системи, виконати операції підготовки та запустити демони.

Нові версії init перейшли на systemd.

Основний прицип init - набір runlevels: 0 - вимкнення системи, 1 - однокористувацький режим без демонів та графічного інтерфейсу (можна виправити монтування файлових систем), 2 - багатокористувацький режим без мережі, 3 - багатокористувацький режим з мережею (для серверів), 5 - багатокористувацький режим з мережею та графічним інтерфейсом (для десктопів), 6 - перезавантаження.


\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
В спеціальній системній директорії /etc/init.d лежать так-звані init-скрипти, які по команді start (stop) запускають (зупиняють) відповідний демон або виконують відповідну оперцію. Щоб запустити всі init-скрипти для потрібного runlevel запускаються з ключом start всі скрипти в директорії /etc/rcn.d де n - номер runlevel. Щоб додати (прибрати) до автозавантаження додаток - треба додати (прибрати) символьне посилання на цей скрипт до потрібної директорії. 

init просто послідовно запускав ці скрипти не беручі до уваги залежності, та без паралелизму, тільки коли завершується виконання одного скрипта - починається виконання наступного. Це простота та безвідмовність, але це накладає обмеження. На сервері час завантаження системи не є критичним, бо він може хвилин 10 перевіряти обладнання та не передавати керування завантажувачу, і завантажується система хвилину чи 10 секунд - не важливо.
\end{frame}
 	
\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection} 	
Далі на серверах все частіше стали використовувати віртуалізацію. У віртуальній машині не потрібно багато часу на перевірку обладнання - там перезапуск відбувається дуже швидко. Також Linux поширився на десктопах.

Новий init та системний менеджер - systemd (застосовується майже у всіх сучасних дистрибутивах). Основні концепції systemd:
\begin{itemize}
  \item Таргети;
  \item Unit-файли;
  \item Залежності між сервісами
\end{itemize}
systemd дозволяє додавати нові режими роботи. Unit - структурна одиниця systemd. Кожен Unit забезпечує запуск одного демона. Таргет - це набір юнітів, що будуть виконані паралельно, з урахуванням ієрархії їх залежностей.
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection} 	
Основні типи unit-ів:
\begin{itemize}
  \item simple - звичайний додаток, що працює в бекграунді;
  \item forking - запуск демона, який виконує fork та завершує батьківський процес;
  \item oneshot - виконує якийсь скрипт та завершується. 
\end{itemize}
\end{frame}

\subsection{Веб-сервіси}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection} 	
Фронтенд відповідає за прийом запитів від клієнтів, первічну обробку та персилку запитів на сервер додатків, отримання відповідей та надсилання клієнту. Сервер додатків відповідає за логіку обробки запитів, він взаємодіє з базою даних для зберігання інформації.

nginx - асинхронний HTTP-сервер.

apache - синхронний HTTP-сервер.

CGI (Common Gateway Interface) — стандарт інтерфейсу, який використовується для організації взаємодії програми вебсервера із зовнішньою програмою. CGI не залежить від того на якій мові програмування ви працюєте. Після отримання запиту веб-сервер форкається, форкнутий процес запускає інший, у нього в змінних оточення будуть параметри запиту і на стандартний ввід буде передаватися тіло запиту. Додаток може бути скриптом або чимось написаним на мові, що компілюється. 

\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection} 	
Результат роботи він повертає на стандартний вивід. Веб-сервер читає із стандартного виводу та повертає користувачу. Треба запускати процес в момент, коли прийшов запит. Коли обробка запиту проста маємо великі накладні росходи. Можливо, що зловмисник надішле багато запитів паралельно. Тому потрібні інші механізми взаємодії.

Можливим є виконання додатку в самому веб-сервері. Це не вимагає додаткових ресурсів, але проблеми залишаються. Іноді блокується воркер веб-сервера.

Веб-додаток запущено окремо, часто він є синхронним. З додатком взаємодіє веб-сервер. Часто apache ставлять за nginx. Типові протоколи взаємодії фронтенда та додатка - HTTP, FastCGI, WSGI. Для зберігання даних використовується база даних. БД може швидко віддавати дані та надійно зберігати.
\end{frame}

\begin{frame}
 	\frametitle{\insertsection} 
 	\framesubtitle{\insertsubsection}
Отримувати запити від клієнтів будемо по протоколу  HTTP.

sudo apt update

sudo apt install nginx

mkdir -p /var/www/repo


\end{frame}

\end{document}
